language: php
php:
  - 7.1
  - 7.0
  - 5.6
  - hhvm
  - nightly
os:
  - linux
# osx/php testing not supported by travis
before_script:
  - cp app/config/parameters-docker.yml app/config/parameters.yml
install:
 - composer install
 - npm install
#JS tools installed by npm required for validation only, not for app execution or development
script: vendor/bin/phing test-all
#Disable nightly-build test until I fix deps
matrix:
  allow_failures:
    - php: nightly

branches:
  only:
    - master
    - dev
